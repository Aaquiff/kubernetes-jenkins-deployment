<VirtualHost *:443>
ServerName helm.example.repo.com
DocumentRoot "/var/www/index"
Alias /charts "/var/www/index/charts/"
ErrorLog ${APACHE_LOG_DIR}/helm-error.log
CustomLog ${APACHE_LOG_DIR}/helm-access.log combined
AddType text/yaml .yaml
<Directory "/var/www/index/charts">
AuthType Basic
AuthName "Restricted Content"
AuthUserFile /etc/apache2/.htpasswd
Require valid-user
</Directory>
SSLEngine on
SSLCertificateFile "/etc/apache2/ssl/server.crt"
SSLCertificateKeyFile "/etc/apache2/ssl/server.key"
</VirtualHost>